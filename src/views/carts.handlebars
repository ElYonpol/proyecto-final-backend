<script defer src="/static/js/carts.js"></script>

<h1 class="display-1">
	<div class="display-1--intro">Carrito</div>
</h1>

<div class="userCart display-1--description" id={{userInfo.isCartEmpty}}>{{userInfo.full_name}}
	{{#if status}}
					<p class="cartCard-content__body">Stock: {{stock}}</p>
				{{else}}
					<p class="cartCard-content__body">No disponible</p>
				{{/if}}
				<button class="addToCart button-cart" id={{_id}}>Añadir al carrito</button>
</div>

<div id="divProdTable" class="table-responsive align-self-center w-100">
	<table
		id="productTable"
		class="table table-sm table-primary table-striped align-self-center text-center"
	>
		<thead class="table-dark">
			<tr>
				<th scope="col">Carrito N°</th>
				<th scope="col">Producto</th>
				<th scope="col">Imagen</th>
				<th scope="col">Precio</th>
				<th scope="col">Categoría</th>
				<th scope="col">Cantidad</th>
			</tr>
		</thead>
		<tbody class="productList">
			{{!-- Las columnas no me funcionan cuando el carrito tiene más de un producto --}}
			{{!-- En la primera columna debería repetir el N° de carrito anterior --}}
			{{#each carts}}
					<tr>
						<th scope="row">{{_id}}</th>
				{{#each products}}
						<th scope="row">{{pid.title}}</th>
						<td><img
								src="{{correctThumbnails pid.thumbnails}}"
								alt="product image"
							/></td>
						<td>${{pid.price}}</td>
						<td>{{pid.category}}</td>
						<td>{{quantity}}</td>
					</tr>
				{{/each}}
			{{/each}}
		</tbody>
	</table>
</div>